<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Food Vault</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Axios-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />
    <style>


      .icon,
      .icon2 {
        font-size: 2rem;
      }

      input {
        font: inherit;
        outline: 0;
      }

      .form__input {
        border-radius: 0.25em;
        border-style: solid;
        width: 70%;
        padding: 0.5em 4em 0.5em 2em;
      }

      .search_input {
        border-radius: 0.25em;
        border-style: solid;
        width: 70%;
        padding: 0.5em 4em 0.5em 2em;
      }

      .list,.add{
        border-radius: 0.25em;
        border-style: solid;
        width: 70%;
        padding: 0.5em 0em 0.5em 2em;
        line-height: 25px;
      }
      .form__input2 {
        border-color: firebrick;
        border-radius: 0.25em;
        border-style: solid;
        padding: 0.5em 4em 0.5em 2em;
        width: 70%;
       
      }
      .form__input:valid {
        border-color: forestgreen;
      }

      .form__input:valid + .icon::after {
        content: "ðŸ˜ƒ";
      }

      .form__input:invalid {
        border-color: firebrick;
      }

      .form__input:invalid + .icon::after {
        content: "ðŸ˜³";
      }

      form{
        height: fit-content;
        width: 50%;
        background-color: #F8F8F8;
      }



    </style>
  </head>

  <body>
    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top d-flex align-items-center">
      <div class="container d-flex align-items-center justify-content-between">
        <div class="logo">
          <h1><a href="foodvault_intro.html">Food Vault</a></h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
        </div>
        <nav id="navbar" class="navbar">
          <ul>
            <li><a class="nav-link  " href="foodvault_intro.html">Home</a></li>
            <li><a class="nav-link " href="foodvault_intro.html#about">About</a></li>
          <li><a class="nav-link " href="foodvault_intro.html#services">Services</a></li>
          <li><a class="nav-link " href="foodvault_intro.html#team">Team</a></li>
          <li><a class="nav-link " href="foodvault_intro.html#faq">FAQ</a></li>
          <li><a class="nav-link " href="learn.html">Learn</a></li>
          <li><a class="nav-link active " href="#">Sign up</a></li>
          <li><a class="login " href="#">Sign in</a></li>
          </ul>
        </nav>
        <!-- .navbar -->
      </div>
    </header>
    <!-- End Header -->

    <!-- ======= First Section ======= -->
    <section id="home" class="d-flex align-items-center" style="height: fit-content;">
     
        <body class="align">
          <div class="container-fluid">
          <form class="border px-5 py-4 m-auto">

            <h1 style="font-size:30px" class="mt-0"> Register with Food Vault</h1>

            
            <h5 class="mt-3">Search for your business : </h5>
            <div class="form__field">
 
              <input type="text" list="shop" class="list" oninput="fill()" onchange="populate(this)" style="font-size: 12px;" />
              <datalist id="shop">
               
              </datalist>
              <span class="icon"></span>
              <p class="mt-1" id=""  style="font-size: 12px;">
                Select your business from the dropdown list
              </p>
            </div>
            
            <h5>Business Address : </h5>
            <div class="form__field">
              <input type="text" id="add" class="add" disabled  style="font-size: 12px;"/>
            
              <p class="mt-1" id=""  style="font-size: 12px;">
               This will be automatically entered by our system
              </p>
            </div>



            <h5>Enter your Username</h5>
            <div class="form__field">
              <input id="use_input"
                type="text"
                class="form__input" pattern=".{6,}"
                required oninput="user();"
              />
              <span class="icon"></span>
              <p class="mt-1" id="use_warning"  style="font-size: 12px;">
                User must contain at least 6 letters
              </p>
            </div>








            <h5>Enter your password</h5>
            <div class="form__field">
              <input
                id="pw"
                type="password"
                class="form__input"
                oninput="callboth()"
                pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                required 
              />
              <span class="icon"></span>
              <p class="mt-1" id="hint" style="font-size: 12px;">
                Password must contain at least : 8 characters,an upper case
                letter,a lower case letter
              </p>
            </div>

            <div class="form__field2">
              <h5>Re-Enter your password</h5>
              <input
                id="pw2"
                type="password"
                class="form__input2"
                oninput="callboth()"
                required
              />
              <span class="icon2">ðŸ˜³</span>
              <p class="mt-1" id="check1" style="font-size: 12px">
                Password must match
              </p>
            </div>
            <button type="button" class="btn btn-outline-primary">Register</button>
          </form>
        </body>
      </div>
    </section>
 
    <!-- End First Section -->
    <main id="main">
      <!-- ======= Special Thanks and Footer Section ======= -->
      <section id="clients" class="clients clients">
        <div class="container">
          <br />
          <h3>Special Thanks to :</h3>
          <div class="row my-4">
            <div class="col-lg-4 col-md-4 col-4">
              <img
                style="height: auto"
                title="SMU"
                src="assets/img/SMU.png"
                class="img-fluid"
                alt=""
                data-aos="zoom-in"
              />
            </div>
            <div class="col-lg-4 my-auto col-md-4 col-4">
              <img
                src="assets/img/SCIS.webp"
                class="img-fluid"
                alt=""
                data-aos="zoom-in"
                data-aos-delay="300"
              />
            </div>

            <div class="col-lg-4 my-auto col-md-4 col-4">
              <img
                src="assets/img/prof.png"
                class="img-fluid"
                alt=""
                data-aos="zoom-in"
                data-aos-delay="100"
              />
            </div>
          </div>
        </div>
        <br />
        &copy; Copyright <strong>Food Vault </strong>. All Rights Reserved
        <br />
        <br />
      </section>
      <!-- Special Thanks and Footer Section -->
    </main>
    <!-- End #main -->

    <a
      href="#"
      class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/purecounter/purecounter.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>

    <script>
      function callboth() {
        call();
        check();
      }

      function call() {
        var hint = document.getElementById("hint");
        var p = document.getElementById("pw").value;
        var errors = "";
        var list_of_error = [];

        if (p.length < 8) {
          list_of_error.push("8 characters");
        }

        if (p.length < p.search(/[0-9]/) == -1) {
          list_of_error.push("1 number");
        }

        if (p.search(/[A-Z]/) == -1) {
          list_of_error.push("an upper case letter");
        }

        if (p.search(/[a-z]/) == -1) {
          list_of_error.push("a lower case letter");
        }

        if (list_of_error.length == 0) {
          hint.innerHTML = `Password is good!`;
        } else {
          hint.innerHTML = `Password must contain at least : ${list_of_error}`;
        }
      }

      function check() {
        var pw2 = document.getElementById("pw2").value;
        var pw = document.getElementById("pw").value;
        if (pw == pw2) {
          document.getElementById("check1").innerHTML = "Password match!";
          document.getElementsByClassName("form__input2")[0].style.borderColor =
            "forestgreen";
          document.getElementsByClassName("icon2")[0].innerText = "ðŸ˜ƒ";
        } else {
          document.getElementsByClassName("icon2")[0].innerText = "ðŸ˜³";
          document.getElementById("check1").innerHTML = "Password do not match";
          document.getElementsByClassName("form__input2")[0].style.borderColor =
            "firebrick";
        }
      }

function user(){
  var usewarning = document.getElementById("use_warning");
      var useinput = document.getElementById("use_input").value;
      if (useinput.length<6){
        usewarning.innerText="Username must contain at least 6 letters!"
      }

      else{
        usewarning.innerText="Username is good!"
      }

}
     
    </script>

    <script>
function fill(){
var input  = document.getElementsByClassName("list")[0].value;

    
 url = "https://data.gov.sg/api/action/datastore_search?resource_id=34f86c3e-a90c-4de9-a69f-afc86b7f31b6";
  axios
    .get(url, {
      params: {
        q:input,
        // limit:50,
      },
    })
    .then((response) => {
      var arr=[];
      var list = document.getElementById('shop');
      list.innerHTML="";
      var obj = response.data.result.records;

      for (ea of obj){
        if(arr.indexOf(ea.licensee_name+ea.premises_address)==-1){
        arr.push(ea.licensee_name+ea.premises_address);  
        var option = document.createElement('option');
        option.value = ea.licensee_name+"@ "+ea.premises_address;
        list.appendChild(option);
      }
      }

    } )
    .catch((error) => {
      // process error object
    });
  }

  function populate(a){
    var b= a.value;
    if (b.indexOf('@')==-1){
      document.getElementById("add").value='';
    }
    else{
      var c = b.substring(b.indexOf('@')+1)
    document.getElementById("add").value=c;
    }
    
 

  }

    </script>
  </body>
</html>
